{"version":3,"file":"cycquestion.component.js","sourceRoot":"","sources":["../../src/app/cycquestion/cycquestion.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAmD,eAAe,CAAC,CAAA;AACnE,+BAAuB,+BAA+B,CAAC,CAAA;AACvD,sCAAmC,iCAAiC,CAAC,CAAA;AAWrE;IAkBE,8BAAoB,cAAmC,EAAC,OAAkB;QAAtD,mBAAc,GAAd,cAAc,CAAqB;QAP/C,oBAAe,GAAW,KAAK,CAAC;QAQtC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;IAC5B,CAAC;IANM,oDAAqB,GAA5B,UAA6B,CAAC,EAAC,QAAQ,EAAC,KAAK;QAC3C,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAC,KAAK,GAAC,CAAC,CAAC,CAAC;IAC1C,CAAC;IAKD,uCAAQ,GAAR;IACA,CAAC;IAEQ,4CAAa,GAApB,UAAqB,QAAQ;QAA7B,iBAsCD;QArCC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACpB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,IAAI,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC9C,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5H,IAAI,GAAG,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,cAAc,CAAC,4BAA4B,CAAC,QAAQ,CAAC,KAAK,EAAC,IAAI,CAAC,SAAS,CAAC;aAC3D,SAAS,CAAC,UAAA,IAAI;YAM7B,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;YAC7B,OAAO,CAAC,IAAI,EAAE,CAAC;YACf,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;YAC5B,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAC/B,CAAC,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC;gBAC3B,KAAK,EAAE,IAAI;gBACX,QAAQ,EAAE,QAAQ;gBAClB,KAAK,EAAE,IAAI;gBACX,MAAM,EAAE,GAAG;gBACX,KAAK,EAAE,gBAAgB,GAAG,QAAQ,CAAC,EAAE;gBACrC,IAAI,EAAE;oBACJ,MAAM,EAAE,OAAO;oBACf,QAAQ,EAAE,IAAI;iBACf;gBACD,IAAI,EAAE;oBACJ,MAAM,EAAE,SAAS;oBACjB,QAAQ,EAAE,IAAI;iBACf;gBACD,KAAK,EAAE,UAAS,KAAK,EAAC,EAAE;oBACtB,GAAG,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC9B,CAAC;aACF,CAAC,CAAC;QACL,CAAC,CACA,CAAA;IAEL,CAAC;IA3DD;QAAC,YAAK,EAAE;;0DAAA;IAER;QAAC,YAAK,EAAE;;uDAAA;IAER;QAAC,YAAK,EAAE;;2DAAA;IAfV;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,cAAc;YACxB,WAAW,EAAE,4BAA4B;YACzC,SAAS,EAAE,CAAC,2BAA2B,CAAC;YACxC,SAAS,EAAE,CAAC,4CAAoB,CAAC;SAClC,CAAC;;4BAAA;IAkEF,2BAAC;AAAD,CAAC,AAjED,IAiEC;AAjEY,4BAAoB,uBAiEhC,CAAA","sourcesContent":["import { Component, OnInit,Input,ElementRef } from '@angular/core';\r\nimport {Question} from '../+suggestion/question.model';\r\nimport {JustificationService} from '../shared/justification.service';\r\ndeclare var Spinner:any;\r\ndeclare var $:any;\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'cyc-question',\r\n  templateUrl: 'cycquestion.component.html',\r\n  styleUrls: ['cycquestion.component.css'],\r\n  providers: [JustificationService]\r\n})\r\nexport class CycquestionComponent implements OnInit {\r\n  \r\n  private elementRef:ElementRef;\r\n  \r\n  @Input()\r\n  private question:Question;\r\n  @Input()\r\n  private index:Number;\r\n  @Input()\r\n  private sessionId:string;\r\n  private selectedQuestion:Question;\r\n  private isProofViewOpen:boolean = false;\r\n  private rationale:any;\r\n\r\n  public startDraggingQuestion(e,question,index){\r\n    e.dataTransfer.setData('custom',JSON.stringify(question));\r\n    e.dataTransfer.setData('index',index+1);\r\n  }\r\n  constructor(private _justification:JustificationService,element:ElementRef) {\r\n    this.elementRef = element;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  \r\n    public showRationale(question) {\r\n    console.log(question);\r\n      this.isProofViewOpen = true;\r\n    var elem = document.getElementById('spinner');\r\n    var spinner = new Spinner({ radius: 60, width: 20, length: 80, lines: 15, className: 'loader', color: 'wheat' }).spin(elem);\r\n    var ref = this;\r\n   this._justification.fetchJustificationForConcept(question.index,this.sessionId)\r\n                      .subscribe(data =>\r\n                        // data => {\r\n                        //   this.rationale = data;\r\n                        //   $('#proofQuestionId').dialog();\r\n                        // }\r\n                        {\r\n        this.rationale = data.proofs;\r\n        spinner.stop();\r\n        console.log(this.rationale);\r\n        console.log(\"open the dialog\");\r\n        $(\"#proofQuestionId\").dialog({\r\n          modal: true,\r\n          position: 'center',\r\n          width: 1000,\r\n          height: 500,\r\n          title: \"Rational for :\" + question.nl,\r\n          show: {\r\n            effect: \"blind\",\r\n            duration: 1000\r\n          },\r\n          hide: {\r\n            effect: \"explode\",\r\n            duration: 1000\r\n          },\r\n          close: function(event,ui) {\r\n            ref.isProofViewOpen = false; \r\n          }\r\n        });\r\n      }\r\n      )\r\n    \r\n  }\r\n\r\n}"]}