{"version":3,"file":"cycavatar.component.js","sourceRoot":"","sources":["../../src/app/cycavatar/cycavatar.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Input} from '@angular/core';\r\ndeclare var $: any;\r\ndeclare var Vivus: any;\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'cyc-avatar',\r\n  templateUrl: 'cycavatar.component.html',\r\n  styleUrls: ['cycavatar.component.css']\r\n})\r\nexport class CycavatarComponent implements OnInit {\r\n\r\n  private flag: boolean;\r\n\r\n  @Input()\r\n  private showAvatar: boolean;\r\n  constructor() { }\r\n\r\n\r\n  public displayAvatar() {\r\n    this.showAvatar = true;\r\n  }\r\n  \r\n  public updateAvatar() {\r\n    this.flag = false;\r\n  }\r\n\r\n  public startQueryAnimation() {\r\n    //Query Animation\r\n    var count;\r\n    var CycQuery, currentHeight;\r\n\r\n    $('.queryFade').fadeIn();\r\n    if ($('#cycStateQuery').css('display') == 'none') {\r\n      $('#cycStateQuery').fadeIn();\r\n    }\r\n    count = 0\r\n    CycQuery = new Vivus('cycQuery',\r\n      {\r\n        type: 'async',\r\n        duration: 120,\r\n        animTimingFunction: Vivus.EASE_OUT\r\n      }, thinkTwice\r\n    )\r\n\r\n\r\n\r\n    function thinkTwice() {\r\n      $('.queryFade').fadeOut(500, function () {\r\n        CycQuery.reset().stop().play();\r\n      });\r\n      $('#cycStateQuery').delay().fadeOut();\r\n      //$(\"#cycInput\").focus();\r\n    }\r\n  }\r\n\r\n  public startBubbleAnimation() {\r\n    cycListen();\r\n    $(\"#cycStateListen\").show();\r\n    function cycListen() {\r\n      console.log(\"cyclisten function called\");\r\n      $(\"#listenCircle\").delay(100).animate(\r\n        { r: 140 }, 1500, 'easeInOutQuad', function () {\r\n          $(\"#listenCircle\").animate({ r: 100 }, 1500, 'easeOutQuad', cycListen());\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  public startAnimation() {\r\n    var listenRadius,\r\n      timer = null;\r\n    var doneTypingInterval = 1000;\r\n    $(\"#listenCircleTyping\").fadeIn();\r\n    listenRadius = parseInt($(\"#listenCircleTyping\").attr('r'));\r\n    listenRadius += (75 * Math.random()) * 1;\r\n    $(\"#listenCircleTyping\").animate({ r: listenRadius }, 100);\r\n\r\n    clearTimeout(timer);\r\n    timer = setTimeout(doStuff, 1000);\r\n    function doStuff() {\r\n      $(\"#listenCircle\").fadeIn();\r\n      $(\"#listenCircleTyping\").fadeOut();\r\n    }\r\n  }\r\n\r\n  public enableCycAvatarAnimation() {\r\n\r\n  //   console.log($('#planNameInput'));\r\n\r\n\r\n    //Resting State Animation\r\n    var CycRest = new Vivus('cyc1',\r\n      {\r\n        type: 'async',\r\n        duration: 120,\r\n        animTimingFunction: Vivus.EASE_OUT\r\n      }, fadeLine\r\n    )\r\n    function fadeLine() {\r\n      $('#cyc1a,#cyc1b').fadeOut(500);\r\n    }\r\n    var refreshIntervalId = setInterval(function () {\r\n      $('#cyc1a,#cyc1b').show();\r\n      CycRest.reset().stop().play();\r\n      //$('#cyc1a').fadeOut();\r\n    }, 3000);\r\n\r\n  //   console.log($('#planNameInput'));\r\n\r\n    //Cyc listening and active typing\r\n    var listenRadius,\r\n      timer = null;\r\n    var doneTypingInterval = 1000;\r\n    //on keyup, start the countdown\r\n    $('#planNameInput').keydown(function () {\r\n      //$(\"#listenCircle\").fadeOut();\r\n      console.log($(\"#listenCircleTyping\"));\r\n      $(\"#listenCircleTyping\").fadeIn();\r\n      listenRadius = parseInt($(\"#listenCircleTyping\").attr('r'));\r\n      listenRadius += (75 * Math.random()) * 1;\r\n      $(\"#listenCircleTyping\").animate({ r: listenRadius }, 100);\r\n\r\n      clearTimeout(timer);\r\n      timer = setTimeout(doStuff, 1000)\r\n    });\r\n\r\n    function doStuff() {\r\n      $(\"#listenCircle\").fadeIn();\r\n      $(\"#listenCircleTyping\").fadeOut();\r\n    }\r\n\r\n    //Cyc listening but no active typing\r\n    $(\"#planNameInput\").focus(function () {\r\n      console.log(\"cyc listening but no active typing yet\");\r\n      $(\"#cycStateListen\").fadeIn();\r\n      $('#cycStateQuery').fadeOut();\r\n      isCycListening = 0;\r\n      cycListen();\r\n    });\r\n    $(\"#planNameInput\").focusout(function () {\r\n      $(\"#cycStateListen\").fadeOut();\r\n      isCycListening = 1;\r\n      cycListen();\r\n    });\r\n\r\n    //Listening but no typing animation\r\n    var isCycListening = 0;\r\n    function cycListen() {\r\n      console.log(\"cyclisten function called\");\r\n      $(\"#listenCircle\").delay(100).animate(\r\n        { r: 140 }, 1500, 'easeInOutQuad', function () {\r\n          $(\"#listenCircle\").animate({ r: 100 }, 1500, 'easeOutQuad', cycListen());\r\n        })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.flag = true;\r\n    this.enableCycAvatarAnimation();\r\n  }\r\n\r\n}\r\n"]}